type confusion :((
_ `std::cin` causes stack overflow
```cpp
variant<Bengal, Ocicat, Ocelot, Savannah> cat = Bengal(97, "Nyanchu");
```

struct variant has 1 byte as index => basically like
```cpp
template<typename... Ts>
struct variant {
private:
    struct cat; // 0x0 - 0x28
    char index; // 0x28 - 0x29
}
```

We see that the `std::variant` leaves 0x28 bytes for whichever one of the Cat classes it is currently, and then at offset 0x28 is the index of the class (0 = Bengal, 1 = Ocicat, 2 = Ocelot, 3 = Savannah -- this is just from the order of the types in the std::variant<...> declaration)."

```cpp
class Ocelot {
    long age;
    char name[0x20];
}
```
=> so when we `cin>>name` of Ocelot, the "\x00" will overflow the index of variant, make the variant thinks that this is class Bengal
=> notice the different of Ocelot and Bengal

```cpp
class Bengal {
    char *name;
    long age;
}
```

=> so when we set the name of Ocelot, it will be written to `Bengal.name` which is a pointer => we can write an address to it and leak
leak libc using stdout or got table
leak stack address using environ in libc
leak canary using stack address
=> rop to win